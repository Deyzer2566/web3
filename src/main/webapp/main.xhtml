<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui" >

<f:view>
    <h:head>
        <title>Lab3 main</title>
    </h:head>

    <h:body>
        <canvas id="canvas" width="300" height="300" style="border-width:2px; margin: 0 auto; border-color:black; border-style:solid;"></canvas>

        <h:form id="form">
            <p:panel header="Ввод данных">
                <p:outputLabel for="x" value="Введите значение X: "/>

                <h:selectOneRadio id="x" title="Координата X" value="#{userTable.point.x}" required="true">
                    <f:selectItem itemValue="-2" itemLabel="-2" />
                    <f:selectItem itemValue="-1.5" itemLabel="-1.5" />
                    <f:selectItem itemValue="-1" itemLabel="-1" />
                    <f:selectItem itemValue="-0.5" itemLabel="-0.5" />
                    <f:selectItem itemValue="0" itemLabel="0" />
                    <f:selectItem itemValue="0.5" itemLabel="0.5" />
                    <f:selectItem itemValue="1" itemLabel="1" />
                    <f:selectItem itemValue="1.5" itemLabel="1.5" />
                    <f:selectItem itemValue="2" itemLabel="2" />
                </h:selectOneRadio>

                <h:message for="x" style="color:red" />

                <p:outputLabel for="y" value="Введите значение Y: "/>
                <h:inputText id="y" title="Координата Y" label="y" value="#{userTable.point.y}" required="true">
                    <f:validateDoubleRange minimum="-5" maximum="3" />
                </h:inputText>

                <h:message for="y" style="color:red" />

                <br/>

                <p:outputLabel for="R_block" value="Введите значение R: "/>
                <h:panelGroup id="R_block">
                    <p:commandButton value="1" onclick="changeR(1)">
                        <f:setPropertyActionListener target="#{userTable.point.r}"
                                                     value="1"/>
                    </p:commandButton>
                    <p:commandButton value="2" onclick="changeR(2)">
                        <f:setPropertyActionListener target="#{userTable.point.r}"
                                                     value="2" />
                    </p:commandButton>
                    <p:commandButton value="3" onclick="changeR(3)">
                        <f:setPropertyActionListener target="#{userTable.point.r}"
                                                     value="3" />
                    </p:commandButton>
                    <p:commandButton value="4" onclick="changeR(4)">
                        <f:setPropertyActionListener target="#{userTable.point.r}"
                                                     value="4" />
                    </p:commandButton>
                    <p:commandButton value="5" onclick="changeR(5)">
                        <f:setPropertyActionListener target="#{userTable.point.r}"
                                                     value="5" />
                    </p:commandButton>
                </h:panelGroup>
                <h:message for="R" style="color:red" />
                <br/>

                <h:commandButton value="Проверить" action="#{userTable.doCode}"/>

            </p:panel>
        </h:form>

        <h:panelGroup id="entriesTable">
            <h:dataTable id="table_out_data" value="#{userTable.pointsTable}" var="point"
                         style="border-width:2px; margin: 0 auto; border-color:black; border-style:solid;">
                <h:column>
                    <f:facet name="header">X</f:facet>
                    #{point.x}
                </h:column>

                <h:column>
                    <f:facet name="header">Y</f:facet>
                    #{point.y}
                </h:column>

                <h:column>
                    <f:facet name="header">R</f:facet>
                    #{point.r}
                </h:column>

                <h:column>
                    <f:facet name="header">Result</f:facet>
                    #{point.inArea}
                </h:column>
            </h:dataTable>
        </h:panelGroup>
    </h:body>
    <h:outputScript library="JS" name="draw.js" />
    <h:outputScript library="JS" name="interactiveElement.js" />
    <script>
        drawAxes();
    </script>
</f:view>

</html>